<script src="../../lodash/lodash.js"></script>
<link rel="import" href="../../polymer/polymer-element.html">

<dom-module id="three-line-geometry">
  <script>
    class ThreeLineGeometry extends Polymer.Element {

      static get is() {
        return 'three-line-geometry';
      }

      static get properties() {
        return {
          vertices: Array,
          object: {
            type: Object,
            computed: '_computeGeometry(vertices)',
            notify: true,
          },
        }
      }

      _computeGeometry(vertices) {
        if (!vertices) return;

        const geometry = new THREE.Geometry();
        geometry.vertices.push(...vertices.map(a => new THREE.Vector3(...a)));

        return geometry;
      }
    }

    customElements.define(ThreeLineGeometry.is, ThreeLineGeometry);
  </script>
</dom-module>