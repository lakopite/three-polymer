<link rel="import" href="bower_components/polymer/polymer-element.html">

<dom-module id="three-camera">
  <script>
    class ThreeCamera extends Polymer.Element {

      static get is() {
        return 'three-camera'
      }

      static get properties() {
        return {
          position: {type: Array, observer: '_positionChanged', value: [0, 0, 0]},
          object: {
            type: Object,
            value: new THREE.PerspectiveCamera(75, 1, 0.1, 3000),
            observer: '_objectChanged',
            notify: true,
          },
        }
      }

      _objectChanged(newObject, oldObject) {
//        console.log('_objectChanged within camera to:', newObject);
        this.object.up = new THREE.Vector3(0, 0, 1);
      }

      _positionChanged(newPosition, oldPosition) {
//        console.log('_positionChanged');
        this.object.position.set(...newPosition);
        this.object.updateProjectionMatrix();
      }

    }

    customElements.define(ThreeCamera.is, ThreeCamera);
  </script>
</dom-module>