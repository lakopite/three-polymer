<link rel="import" href="../../polymer/polymer-element.html">

<dom-module id="three-material">
  <script>
    class ThreeMaterial extends Polymer.Element {

      static get is() {
        return 'three-material';
      }

      static get properties() {
        return {
          color: {type: String, observer: '_colorChanged'},
          isVisible: {type: Boolean, observer: '_isVisibleChanged'},
          object: {
            type: Object,
            notify: true,
            value: () => new THREE.MeshBasicMaterial(
              {
                side: THREE.DoubleSide,
                vertexColors: THREE.NoColors,
                transparent: false,
                opacity: 1.0,
                visible: true,
              }
            ),
          },
        };
      }

      _colorChanged(color) {
        this.object.color = new THREE.Color().setStyle(color);
      }

      _isVisibleChanged(isVisible) {
        this.object.visible = isVisible;
      }
    }

    customElements.define(ThreeMaterial.is, ThreeMaterial);
  </script>
</dom-module>