<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="fake-three-model">
  <script>
    class FakeThreeModel extends Polymer.Element {

      static get is() {
        return 'fake-three-model';
      }

      static get properties() {
        return {
          object: Object,
          position: Array,
          radius: Number,
          handleNewMeshCount: {type: Number, value: 0},
          handleMeshChangeCount: {type: Number, value: 0},
        }
      }

      connectedCallback() {
        this.addEventListener('new-mesh', () => this._handleNewMesh());
        this.addEventListener('mesh-change', () => this._handleMeshChange());
      }

      _objectChanged() {
        this.dispatchEvent(new CustomEvent('new-model', {bubbles: true}));
      }

      _boundariesChanged(position, radius) {
        this.position = position;
        this.radius = radius;
        this.dispatchEvent(new CustomEvent('model-boundaries-change', {bubbles: true}));
      }

      _handleNewMesh() {
        this.handleNewMeshCount += 1;
      }

      _handleMeshChange() {
        this.handleMeshChangeCount += 1;
      }

      _dispatchModelNeedsRender() {
        this.dispatchEvent(new CustomEvent('model-needs-render', {bubbles: true}));
      }
    }

    customElements.define(FakeThreeModel.is, FakeThreeModel);
  </script>
</dom-module>